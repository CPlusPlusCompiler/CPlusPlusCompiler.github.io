{"ast":null,"code":"import _regeneratorRuntime from\"/home/andrius/Projektai/Portfolio/CPlusPlusCompiler.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/andrius/Projektai/Portfolio/CPlusPlusCompiler.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/andrius/Projektai/Portfolio/CPlusPlusCompiler.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{makeStyles,createStyles}from'@material-ui/core/styles';import React,{useEffect,useState}from'react';import{Button,Card,CardActions,CardContent,CardMedia,ListItem,Typography}from'@material-ui/core';import Axios from'axios';import DownloadButton from'./DownloadButton';var useStyles=makeStyles(function(theme){return createStyles({root:{backgroundColor:'#340152',color:'white',maxWidth:'960px',width:'100%'},main:{display:'flex',justifyContent:'center',flexWrap:'wrap'},details:{flexGrow:1,display:'flex',// minWidth: '40vw',\nmaxWidth:'480px'},appPicture:{alignSelf:'center',justifySelf:'center',width:200,maxWidth:'50%',flexShrink:'revert',// height: 151,\nminWidth:'10%',margin:16}});});// todo improve to include\nfunction findDownloadLink(releases){if(releases.length>0){var assets=releases[0].assets;if(assets.length>0){console.log(assets);return assets[0];}}return null;}export default function PortfolioProject(props){// fetching and extracting a download link to compiled binary, if it exists\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),downloadLink=_useState2[0],setDownloadLink=_useState2[1];var getDownloads=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(releasesLink){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Axios.get(releasesLink).then(function(response){return setDownloadLink(findDownloadLink(response.data));}).catch(function(error){return console.error(error);});case 1:case\"end\":return _context.stop();}}},_callee);}));return function getDownloads(_x){return _ref.apply(this,arguments);};}();// fetching a list of images from a specific folder\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),imagesList=_useState4[0],setImagesList=_useState4[1];var getImages=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var imagesUrl;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:imagesUrl=\"https://api.github.com/repos/CPlusPlusCompiler/\"+props.name+\"/contents/images\";Axios.get(imagesUrl).then(function(response){return setImagesList(response.data);}).catch(function(error){return setImagesList([]);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getImages(){return _ref2.apply(this,arguments);};}();useEffect(function(){// 1. getting download link\n// trimming {/id} off\nvar url=props.releases_url.slice(0,props.releases_url.length-5);console.log(url);getDownloads(url);//2. getting images\ngetImages();},[]);var classes=useStyles();return/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsxs(Card,{className:classes.root,elevation:20,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.main,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.details,children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{component:\"h5\",variant:\"h5\",children:props.name}),/*#__PURE__*/_jsx(Typography,{children:props.description})]})}),/*#__PURE__*/_jsx(CardMedia,{component:\"img\",className:classes.appPicture,image:\"https://cdn.arstechnica.net/wp-content/uploads/2019/06/android-q-800x449.png\",title:props.name})]}),/*#__PURE__*/_jsxs(CardActions,{children:[/*#__PURE__*/_jsx(Button,{variant:\"text\",color:\"secondary\",href:props.html_url,target:\"_blank\",onClick:function onClick(event){return console.log(props.html_url);},children:\"Source code\"}),DownloadButton(downloadLink)]})]})});}","map":{"version":3,"sources":["/home/andrius/Projektai/Portfolio/CPlusPlusCompiler.github.io/src/components/PortfolioProject.tsx"],"names":["makeStyles","createStyles","React","useEffect","useState","Button","Card","CardActions","CardContent","CardMedia","ListItem","Typography","Axios","DownloadButton","useStyles","theme","root","backgroundColor","color","maxWidth","width","main","display","justifyContent","flexWrap","details","flexGrow","appPicture","alignSelf","justifySelf","flexShrink","minWidth","margin","findDownloadLink","releases","length","assets","console","log","PortfolioProject","props","downloadLink","setDownloadLink","getDownloads","releasesLink","get","then","response","data","catch","error","imagesList","setImagesList","getImages","imagesUrl","name","url","releases_url","slice","classes","description","html_url","event"],"mappings":"inBAAA,OAASA,UAAT,CAAqBC,YAArB,KAAgD,0BAAhD,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,WAAvB,CAAoCC,WAApC,CAAiDC,SAAjD,CAA4DC,QAA5D,CAAsEC,UAAtE,KAAwF,mBAAxF,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,SAAS,CAAGd,UAAU,CAAC,SAACe,KAAD,QACzBd,CAAAA,YAAY,CAAC,CACTe,IAAI,CAAE,CACFC,eAAe,CAAE,SADf,CAEFC,KAAK,CAAE,OAFL,CAGFC,QAAQ,CAAE,OAHR,CAIFC,KAAK,CAAE,MAJL,CADG,CAOTC,IAAI,CAAE,CACFC,OAAO,CAAE,MADP,CAEFC,cAAc,CAAE,QAFd,CAGFC,QAAQ,CAAE,MAHR,CAPG,CAYTC,OAAO,CAAE,CACLC,QAAQ,CAAE,CADL,CAELJ,OAAO,CAAE,MAFJ,CAGL;AACAH,QAAQ,CAAE,OAJL,CAZA,CAkBTQ,UAAU,CAAE,CACRC,SAAS,CAAE,QADH,CAERC,WAAW,CAAE,QAFL,CAGRT,KAAK,CAAE,GAHC,CAIRD,QAAQ,CAAE,KAJF,CAKRW,UAAU,CAAE,QALJ,CAMR;AACAC,QAAQ,CAAE,KAPF,CAQRC,MAAM,CAAE,EARA,CAlBH,CAAD,CADa,EAAD,CAA5B,CAiCA;AACA,QAASC,CAAAA,gBAAT,CAA0BC,QAA1B,CAAsE,CAClE,GAAIA,QAAQ,CAACC,MAAT,CAAkB,CAAtB,CAAyB,CACrB,GAAIC,CAAAA,MAAM,CAAGF,QAAQ,CAAC,CAAD,CAAR,CAAYE,MAAzB,CACA,GAAIA,MAAM,CAACD,MAAP,CAAgB,CAApB,CAAuB,CACnBE,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,MAAOA,CAAAA,MAAM,CAAC,CAAD,CAAb,CACH,CACJ,CACD,MAAO,KAAP,CACH,CAGD,cAAe,SAASG,CAAAA,gBAAT,CAA0BC,KAA1B,CAA6C,CACxD;AADwD,cAEhBpC,QAAQ,CAAgB,IAAhB,CAFQ,wCAEjDqC,YAFiD,eAEnCC,eAFmC,eAIxD,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,YAAP,kHACjBhC,KAAK,CAACiC,GAAN,CAAUD,YAAV,EACKE,IADL,CACU,SAAAC,QAAQ,QAAIL,CAAAA,eAAe,CAACT,gBAAgB,CAACc,QAAQ,CAACC,IAAV,CAAjB,CAAnB,EADlB,EAEKC,KAFL,CAEW,SAAAC,KAAK,QAAIb,CAAAA,OAAO,CAACa,KAAR,CAAcA,KAAd,CAAJ,EAFhB,EADiB,sDAAH,kBAAZP,CAAAA,YAAY,4CAAlB,CAMA;AAVwD,eAWpBvC,QAAQ,CAAK,EAAL,CAXY,yCAWjD+C,UAXiD,eAWrCC,aAXqC,eAaxD,GAAMC,CAAAA,SAAS,2FAAG,sJACVC,SADU,CACE,kDACVd,KAAK,CAACe,IADI,CACG,kBAFL,CAId3C,KAAK,CAACiC,GAAN,CAAUS,SAAV,EACKR,IADL,CACU,SAAAC,QAAQ,QAAIK,CAAAA,aAAa,CAACL,QAAQ,CAACC,IAAV,CAAjB,EADlB,EAEKC,KAFL,CAEW,SAAAC,KAAK,QAAIE,CAAAA,aAAa,CAAC,EAAD,CAAjB,EAFhB,EAJc,wDAAH,kBAATC,CAAAA,SAAS,2CAAf,CASAlD,SAAS,CAAC,UAAM,CACZ;AACA;AACA,GAAIqD,CAAAA,GAAG,CAAGhB,KAAK,CAACiB,YAAN,CAAmBC,KAAnB,CAAyB,CAAzB,CAA4BlB,KAAK,CAACiB,YAAN,CAAmBtB,MAAnB,CAA4B,CAAxD,CAAV,CACAE,OAAO,CAACC,GAAR,CAAYkB,GAAZ,EACAb,YAAY,CAACa,GAAD,CAAZ,CAEA;AACAH,SAAS,GACZ,CATQ,CASN,EATM,CAAT,CAWA,GAAMM,CAAAA,OAAO,CAAG7C,SAAS,EAAzB,CAEA,mBACI,KAAC,QAAD,wBACI,MAAC,IAAD,EAAM,SAAS,CAAE6C,OAAO,CAAC3C,IAAzB,CAA+B,SAAS,CAAE,EAA1C,wBACI,aAAK,SAAS,CAAE2C,OAAO,CAACtC,IAAxB,wBACI,YAAK,SAAS,CAAEsC,OAAO,CAAClC,OAAxB,uBACI,MAAC,WAAD,yBACI,KAAC,UAAD,EAAY,SAAS,CAAC,IAAtB,CAA2B,OAAO,CAAC,IAAnC,UACKe,KAAK,CAACe,IADX,EADJ,cAKI,KAAC,UAAD,WACKf,KAAK,CAACoB,WADX,EALJ,GADJ,EADJ,cAaI,KAAC,SAAD,EACI,SAAS,CAAC,KADd,CAEI,SAAS,CAAED,OAAO,CAAChC,UAFvB,CAGI,KAAK,CAAE,8EAHX,CAII,KAAK,CAAEa,KAAK,CAACe,IAJjB,EAbJ,GADJ,cAqBI,MAAC,WAAD,yBACI,KAAC,MAAD,EACI,OAAO,CAAC,MADZ,CAEI,KAAK,CAAC,WAFV,CAGI,IAAI,CAAEf,KAAK,CAACqB,QAHhB,CAII,MAAM,CAAC,QAJX,CAKI,OAAO,CAAE,iBAAAC,KAAK,QAAIzB,CAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACqB,QAAlB,CAAJ,EALlB,yBADJ,CAUKhD,cAAc,CAAC4B,YAAD,CAVnB,GArBJ,GADJ,EADJ,CAuCH","sourcesContent":["import { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport React, { useEffect, useState } from 'react'\nimport { Button, Card, CardActions, CardContent, CardMedia, ListItem, Typography } from '@material-ui/core';\nimport { Assets, ReleaseResponse, Repository } from '../data-objects/Repository';\nimport Axios from 'axios';\nimport DownloadButton from './DownloadButton';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            backgroundColor: '#340152',\n            color: 'white',\n            maxWidth: '960px',\n            width: '100%',\n        },\n        main: {\n            display: 'flex',\n            justifyContent: 'center',\n            flexWrap: 'wrap',\n        },\n        details: {\n            flexGrow: 1,\n            display: 'flex',\n            // minWidth: '40vw',\n            maxWidth: '480px',\n        },\n        appPicture: {\n            alignSelf: 'center',\n            justifySelf: 'center',\n            width: 200,\n            maxWidth: '50%',\n            flexShrink: 'revert',\n            // height: 151,\n            minWidth: '10%',\n            margin: 16,\n        },\n    }),\n);\n\n\n// todo improve to include\nfunction findDownloadLink(releases: ReleaseResponse[]): Assets | null {\n    if (releases.length > 0) {\n        let assets = releases[0].assets\n        if (assets.length > 0) {\n            console.log(assets)\n            return assets[0]\n        }\n    }\n    return null\n}\n\n\nexport default function PortfolioProject(props: Repository) {\n    // fetching and extracting a download link to compiled binary, if it exists\n    const [downloadLink, setDownloadLink] = useState<Assets | null>(null)\n\n    const getDownloads = async (releasesLink: string) => {\n        Axios.get(releasesLink)\n            .then(response => setDownloadLink(findDownloadLink(response.data)))\n            .catch(error => console.error(error))\n    }\n\n    // fetching a list of images from a specific folder\n    const [imagesList, setImagesList] = useState<[]>([])\n\n    const getImages = async () => {\n        let imagesUrl = \"https://api.github.com/repos/CPlusPlusCompiler/\"\n            + props.name + \"/contents/images\"\n\n        Axios.get(imagesUrl)\n            .then(response => setImagesList(response.data))\n            .catch(error => setImagesList([]))\n    }\n\n    useEffect(() => {\n        // 1. getting download link\n        // trimming {/id} off\n        let url = props.releases_url.slice(0, props.releases_url.length - 5)\n        console.log(url)\n        getDownloads(url)\n\n        //2. getting images\n        getImages()\n    }, [])\n\n    const classes = useStyles()\n\n    return (\n        <ListItem>\n            <Card className={classes.root} elevation={20}>\n                <div className={classes.main}>\n                    <div className={classes.details}>\n                        <CardContent>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                {props.name}\n                            </Typography>\n\n                            <Typography>\n                                {props.description}\n                            </Typography>\n                        </CardContent>\n                    </div>\n\n                    <CardMedia\n                        component=\"img\"\n                        className={classes.appPicture}\n                        image={\"https://cdn.arstechnica.net/wp-content/uploads/2019/06/android-q-800x449.png\"}\n                        title={props.name} />\n                </div>\n\n                <CardActions>\n                    <Button\n                        variant=\"text\"\n                        color=\"secondary\"\n                        href={props.html_url}\n                        target=\"_blank\"\n                        onClick={event => console.log(props.html_url)}>\n                        Source code\n                    </Button>\n\n                    {DownloadButton(downloadLink)}\n                </CardActions>\n            </Card>\n        </ListItem>\n\n    );\n}"]},"metadata":{},"sourceType":"module"}